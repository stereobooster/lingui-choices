(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){},17:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(3),o=t.n(r),c=(t(15),t(4)),s=t(5),i=t(7),u=t(6),m=t(8),d=(t(17),t(1)),h=function(e,a,t){return function(e,a){return a[e]||[]}(e,t)===a},f=function(e,a,t){return function(){return t(Object(d.a)({},e,a))}};function E(e){var a=e.name,t=e.value,n=e.children,r=e.state,o=e.setState,c=e.disabled;return l.a.createElement("label",{className:c?"disabled":void 0},l.a.createElement("input",{type:"radio",name:a,value:t,checked:h(a,t,r),onChange:f(a,t,o),disabled:c})," ",n)}E.displayName="Radio";var p=function(e,a){return!0===function(e,a){return a[e]}(e,a)},v=function(e,a,t){return function(){return t(Object(d.a)({},e,!a[e]))}};function g(e){var a=e.name,t=e.children,n=e.state,r=e.setState,o=e.disabled;return l.a.createElement("label",{className:o?"disabled":void 0},l.a.createElement("input",{type:"checkbox",name:a,checked:p(a,n),onChange:v(a,n,r),disabled:o})," ",t)}g.displayName="Checkbox";var b=function(e){return e.react},y=function(e){return!!e.sourceLocale},w=function(e){return"default"===e.keyScheme},k=function(e){return"synthetic"===e.keyScheme},j=function(e){return"syntheticAndDefault"===e.keyScheme},S=function(e){return"catalogs"===e.translations},O=function(e){return!b(e)},x=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={keyScheme:"default",format:"gettext",translations:"catalogs",locale:"inUrl",bundler:"webpack",babel:"macros",html:"no",translationStore:"vcsAndThirdPartyService"},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a={state:e,setState:this.setState.bind(this)};return l.a.createElement("div",{className:"content"},l.a.createElement("form",{className:"column"},l.a.createElement("h3",null,"Choices"),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"Key scheme"),l.a.createElement(E,Object.assign({name:"keyScheme",value:"default"},a),"Default (recommended)"),l.a.createElement(E,Object.assign({name:"keyScheme",value:"synthetic"},a),"Synthetic"),l.a.createElement(E,Object.assign({name:"keyScheme",value:"syntheticAndDefault"},a),"Synthetic + Default")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"What ",l.a.createElement("code",null,"format")," do you use?"),l.a.createElement(E,Object.assign({name:"format",value:"gettext"},a),l.a.createElement("code",null,"po")," (recommended)"),l.a.createElement(E,Object.assign({name:"format",value:"lingui"},a),l.a.createElement("code",null,"lingui"))),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"Do you use ",l.a.createElement("code",null,"sourceLocale"),"?"),l.a.createElement(g,Object.assign({name:"sourceLocale"},a),"Yes")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"Where do you store locale?"),l.a.createElement(E,Object.assign({name:"locale",value:"inUrl"},a),"in URL e.g. ",l.a.createElement("code",null,"example.com/en/foo")," or"," ",l.a.createElement("code",null,"example.com/cs/foo")),l.a.createElement(E,Object.assign({name:"locale",value:"notInUrl"},a),"not in URL, for example in ",l.a.createElement("code",null,"cookies")," or"," ",l.a.createElement("code",null,"localStorage")," or server session or server database")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"How do you compile translations?"),l.a.createElement(E,Object.assign({name:"translations",value:"catalogs"},a),"Catalog for each languge e.g. ",l.a.createElement("code",null,"main.js")," and one of"," ",l.a.createElement("code",null,"i18n.en.js"),", ",l.a.createElement("code",null,"i18n.cs.js")),l.a.createElement(E,Object.assign({name:"translations",value:"separateBundles"},a),"Separate JS bundle for each language e.g. ",l.a.createElement("code",null,"main.en.js")," ","or ",l.a.createElement("code",null,"main.cs.js"))),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"What JS library do you use?"),l.a.createElement(g,Object.assign({name:"react"},a),"React"),l.a.createElement(g,Object.assign({name:"plainJs"},a),"Plain JS")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",{className:O(e)?"disabled":void 0},"Do you have prerendered HTML?"),l.a.createElement(E,Object.assign({name:"html",value:"ssr"},a,{disabled:O(e)}),"Yes, Server Side Rendering"),l.a.createElement(E,Object.assign({name:"html",value:"prerendering"},a,{disabled:function(e){return!b(e)||!function(e){return"inUrl"===e.locale}(e)}(e)}),"Yes, prerendering, for example react-snap, react-static or Gatsby"),l.a.createElement(E,Object.assign({name:"html",value:"no"},a,{disabled:O(e)}),"No")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"What bundler do you use?"),l.a.createElement(E,Object.assign({name:"bundler",value:"webpack"},a),"Webpack"),l.a.createElement(E,Object.assign({name:"bundler",value:"other"},a),"Other")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"How did you configure Babel?"),l.a.createElement(E,Object.assign({name:"babel",value:"macros"},a),"macros (recommended)"),l.a.createElement(E,Object.assign({name:"babel",value:"transform"},a),"babel-transform plugin")),l.a.createElement("div",{className:"field"},l.a.createElement("h4",null,"Where do you store translations?"),l.a.createElement(E,Object.assign({name:"translationStore",value:"vcs"},a),"VCS (version control system) along with application code, like git or mercurial etc"),l.a.createElement(E,Object.assign({name:"translationStore",value:"thirdPartyService"},a),"third party service, like Phraseapp, Crowdin, Transifex etc"),l.a.createElement(E,Object.assign({name:"translationStore",value:"vcsAndThirdPartyService"},a),"VCS and third party service"))),l.a.createElement("div",{className:"column"},l.a.createElement("p",null,"Source code is"," ",l.a.createElement("a",{href:"https://github.com/stereobooster/lingui-choices"},"here")),w(e)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"When you use some default text (from mockups) as keys. For example:",l.a.createElement("pre",null,'<Trans>Credit card number</Trans>\ni18n._(t`The number in the front of your card`)\n<Plural\n  value={this.state.duration}\n  one="1 hour"\n  other="# hours"\n/>\ni18n._(plural({\n  value: value,\n  one: "1 hour",\n  other: "# hours"\n}))')),l.a.createElement("p",null,l.a.createElement("b",null,"Pros"),": you don't need naming rules, very easy to name things. Defaults always present."),l.a.createElement("p",null,l.a.createElement("b",null,"Cons"),": some text can be confusing without context, like"," ",l.a.createElement("code",null,"XXXX XXXX XXXX XXXX XXXX")," in given example, but there are comments generated by Lingui, which can be used as context, also it is possible to use in context editor and something like storybook, styleguidist, cosmos to solve this.")),k(e)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"When you use some synthetic strings for keys. For example:",l.a.createElement("pre",null,'<Trans id="name_of_view.form.name_of_field" />\ni18n._(t("name_of_view.form.name_of_field.hint")``)\n<Plural\n  id="name_of_view.duration.value"\n  value={this.state.duration}\n/>\n// I didn\'t find a way to put id in plural macro')),l.a.createElement("p",null,l.a.createElement("b",null,"Pros"),": you can prevent collisions, you can add some semantics in the name and this way help translators"),l.a.createElement("p",null,l.a.createElement("b",null,"Cons"),": you need manually support consistency of keys, you need to check if you already have a key for given string or you need to create one, you need naming rules, you need to come up with keys, you can argue about naming on code reviews (because that what developers do). You need to make sure you provide defaults otherwise untranslated keys can go to production")),j(e)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Combination of Synthetic and Default. For example:",l.a.createElement("pre",null,'<Trans id="name_of_view.form.name_of_field">Credit card number</Trans>\ni18n._(t("name_of_view.form.name_of_field.hint")`The number in the front of your card`)\n<Plural\n  id="name_of_view.duration.value"\n  value={this.state.duration}\n  one="1 hour"\n  other="# hours"\n/>\n// I didn\'t find a way to put id in plural macro')),l.a.createElement("p",null,l.a.createElement("b",null,"Pros"),": Defaults always present."),l.a.createElement("p",null,l.a.createElement("b",null,"Cons"),": same as synthetic keys and you will have repeating defaults.")),l.a.createElement("h3",null,"Recommendations"),function(e){return"gettext"===e.format}(e)&&y(e)&&w(e)&&l.a.createElement("p",null,"You may need ",l.a.createElement("code",null,"#, fuzzy")," flag. See"," ",l.a.createElement("a",{href:"https://github.com/lingui/js-lingui/issues/383#issuecomment-435217183"},"#383")),y(e)&&k(e)&&l.a.createElement("p",null,"You need to make sure you don't deliver synthetic keys to users. See"," ",l.a.createElement("a",{href:"https://github.com/lingui/js-lingui/issues/405"},"#405")),!function(e){return"lingui"===e.format}(e)&&!y(e)&&j(e)&&l.a.createElement("p",null,"You may want to use ",l.a.createElement("code",null,"sourceLocale")," otherwise default values won't get extracted."),S(e)&&l.a.createElement("p",null,"You may need to figure out how to do code splitting for catalogs."," ",l.a.createElement("a",{href:"https://github.com/lingui/js-lingui/issues/139"},"#139")," ","can improve situation."),function(e){return"separateBundles"===e.translations}(e)&&l.a.createElement("p",null,"Good news! Problem with code spliting is solved if your bundler supports code splitting for JS, like Webpack."),function(e){return"no"!==e.html&&void 0!==e.html}(e)&&l.a.createElement("p",null,l.a.createElement("a",{href:"https://dev.to/stereobooster/friday-hack-suspense-concurrent-mode-and-lazy-to-load-locales-for-i18n-hgg"},"You need some workaround to prevent white flash")),S(e)&&function(e){return"webpack"===e.bundler}(e)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Good news! Problem with cache invalidation is solved. Use something like this to load catalogs"," ",l.a.createElement("code",null,'import(/* webpackMode: "lazy", webpackChunkName: "i18n-[index]" */ `./locales/${locale}/messages.js`);')),l.a.createElement("p",null,"Add ",l.a.createElement("code",null,"lingui compile")," as part of ",l.a.createElement("code",null,"start"),","," ",l.a.createElement("code",null,"build")," and ",l.a.createElement("code",null,"test")," commands")),S(e)&&function(e){return"other"===e.bundler}(e)&&l.a.createElement("p",null,"You need to figure out how to invalidate cache for catalogs"),l.a.createElement("h3",null,"Workflow"),w(e)&&function(e){return"vcsAndThirdPartyService"===e.translationStore}(e)&&l.a.createElement("ol",null,l.a.createElement("li",null,"developer recieves UI specification"),l.a.createElement("li",null,"developer creates component",l.a.createElement("ol",null,l.a.createElement("li",null,"developer creates keys based on UI"),l.a.createElement("li",null,"developer runs script to extract keys"))),l.a.createElement("li",null,"developer commits changes and pushes PR to review/testing/deployment",l.a.createElement("ol",null,l.a.createElement("li",null,"CI runs script to check that developer didn't forget to extract keys"),l.a.createElement("li",null,"CI runs script to upload new keys to Third Party Service"))),l.a.createElement("li",null,"Eventually, when translations are ready, developer runs script to download translations and redeploys application with new translations"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,a,t){e.exports=t(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.036c9ae8.chunk.js.map